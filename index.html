


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Features &mdash; latimes-calculate v0.1 documentation</title>
    <link rel="stylesheet" href="_static/latimes.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="latimes-calculate v0.1 documentation" href="#" /> 
  </head>
  <body>              
<a href="http://www.github.com/datadesk/latimes-calculate/">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/forkme.png" alt="Fork me on GitHub">
</a>
<div class="banner">
    <h1><a href="#"><img src="_static/banner.png"></a></h1>
    <h2>Version 0.1 :: <a href="http://github.com/datadesk">http://github.com/datadesk</a></h2>
</div>
<div class="banner-underline"></div> 
  
    
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <blockquote class="epigraph">
<div>A collection of simple math functions</div></blockquote>
<div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Descriptive statistics like mean, median, percentile</li>
<li>Comparison statistics like percentage change, per-capita and rankings</li>
<li>Geospatial stats like mean center and standard deviation distance</li>
<li>A small dab of more complicated hoohah like Pearson&#8217;s R.</li>
<li>A grabbag of utilities for a Dorling cartogram, diversity index, Benford&#8217;s Law, generating random points and other things</li>
</ul>
<hr></div>
<div class="section" id="dependencies">
<h1>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h1>
<p>For more functions, nothing. <a class="reference external" href="http://www.google.com/search?client=ubuntu&amp;channel=fs&amp;q=geodjango&amp;ie=utf-8&amp;oe=utf-8">GeoDjango</a> is required for a small number of the geospatial functions, though the rest of the module will work if it is not installed.</p>
<hr></div>
<div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>Install the latest package from pypi.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install latimes-calculate
</pre></div>
</div>
<hr></div>
<div class="section" id="functions">
<h1>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="adjusted_monthly_value">
<tt class="descname">adjusted_monthly_value</tt><big>(</big><em>value</em>, <em>datetime</em><big>)</big><a class="headerlink" href="#adjusted_monthly_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a value and a datetime object, and then prorates the value to a 30-day figure depending on how many days are in the month.</p>
<p>This can be useful for month-to-month comparisons in circumstances where fluctuations in the number of days per month may skew the analysis.</p>
<p>For instance, February typically has only 28 days, in comparison to March, which has 31.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">adjusted_monthly_value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">adjusted_monthly_value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">17</span><span class="p">))</span>
<span class="go">10.714285714285714</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">adjusted_monthly_value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="go">9.67741935483871</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="benfords_law">
<tt class="descname">benfords_law</tt><big>(</big><em>number_list</em>, <em>method='first_digit'</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#benfords_law" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a list of numbers and applies a quick-and-dirty run against Benford&#8217;s Law.</p>
<p>Benford&#8217;s Law makes statements about the occurance of leading digits in a dataset. It claims that a leading digit of 1 will occur about 30 percent of the time, and each number after it a little bit less, with the number 9 occuring the least. Datasets that greatly vary from the law are sometimes suspected of fraud.</p>
<p>The function returns the Pearson correlation coefficient, also known as Pearson&#8217;s r, which reports how closely the two datasets are related. This function also includes a variation on the classic Benford analysis popularized by blogger Nate Silver, who conducted an analysis of the final digits of polling data. To use Silver&#8217;s variation, provide the keyword argument <cite>method</cite> with the value &#8216;last_digit&#8217;. To prevent the function from printing, set the optional keyword argument <cite>verbose</cite> to False.</p>
<p>This function is based upon code from a variety of sources around the web, but owes a particular debt to the work of Christian S. Perone.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">benfords_law</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="go">BENFORD&#39;S LAW: FIRST_DIGIT</span>

<span class="go">Pearson&#39;s R: 0.86412304649</span>

<span class="go">| Number | Count | Expected Percentage | Actual Percentage |</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">| 1      | 2     | 30.1029995664       | 20.0              |</span>
<span class="go">| 2      | 1     | 17.6091259056       | 10.0              |</span>
<span class="go">| 3      | 1     | 12.4938736608       | 10.0              |</span>
<span class="go">| 4      | 1     | 9.69100130081       | 10.0              |</span>
<span class="go">| 5      | 1     | 7.91812460476       | 10.0              |</span>
<span class="go">| 6      | 1     | 6.69467896306       | 10.0              |</span>
<span class="go">| 7      | 1     | 5.79919469777       | 10.0              |</span>
<span class="go">| 8      | 1     | 5.11525224474       | 10.0              |</span>
<span class="go">| 9      | 1     | 4.57574905607       | 10.0              |</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">benfords_law</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">-0.863801937698704</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="competition_rank">
<tt class="descname">competition_rank</tt><big>(</big><em>data_list</em>, <em>obj</em>, <em>order_by</em>, <em>direction='desc'</em><big>)</big><a class="headerlink" href="#competition_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a list, an item plus the value and direction to order by. Then returns the supplied object&#8217;s competition rank as an integer. In competition ranking equal numbers receive the same ranking and a gap is left before the next value (i.e. &#8220;1224&#8221;). You can submit a Django queryset, objects, or just a list of dictionaries.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qs</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">&quot;-career_home_runs&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ernie</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">first_name__iexact</span><span class="o">=</span><span class="s">&#39;Ernie&#39;</span><span class="p">,</span> <span class="n">last_name__iexact</span><span class="o">=</span><span class="s">&#39;Banks&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eddie</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">first_name__iexact</span><span class="o">=</span><span class="s">&#39;Eddie&#39;</span><span class="p">,</span> <span class="n">last_name__iexact</span><span class="o">=</span><span class="s">&#39;Matthews&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mel</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">first_name__iexact</span><span class="o">=</span><span class="s">&#39;Mel&#39;</span><span class="p">,</span> <span class="n">last_name__iexact</span><span class="o">=</span><span class="s">&#39;Ott&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">competition_rank</span><span class="p">(</span><span class="n">qs</span><span class="p">,</span> <span class="n">ernie</span><span class="p">,</span> <span class="n">career_home_runs</span><span class="s">&#39;, direction=&#39;</span><span class="n">desc</span><span class="s">&#39;)</span>
<span class="go">21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">competition_rank</span><span class="p">(</span><span class="n">qs</span><span class="p">,</span> <span class="n">eddie</span><span class="p">,</span> <span class="s">&#39;career_home_runs&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s">&#39;desc&#39;</span><span class="p">)</span>
<span class="go">21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">competition_rank</span><span class="p">(</span><span class="n">qs</span><span class="p">,</span> <span class="n">mel</span><span class="p">,</span> <span class="s">&#39;career_home_runs&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s">&#39;desc&#39;</span><span class="p">)</span>
<span class="go">23</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="date_range">
<tt class="descname">date_range</tt><big>(</big><em>start_date</em>, <em>end_date</em><big>)</big><a class="headerlink" href="#date_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator of all the days between two date objects. Results include the start and end dates. Arguments can be either datetime.datetime or date type objects.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dr</span> <span class="o">=</span> <span class="n">calculate</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dr</span>
<span class="go">&lt;generator object at 0x718e90&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">dr</span><span class="p">)</span>
<span class="go">[datetime.date(2009, 1, 1), datetime.date(2009, 1, 2), datetime.date(2009, 1, 3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="decile">
<tt class="descname">decile</tt><big>(</big><em>data_list</em>, <em>score</em>, <em>kind='weak'</em><big>)</big><a class="headerlink" href="#decile" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a sample of values and a single number to add to it and determine the decile equivilent of its percentile rank.</p>
<p>By default, the method used to negotiate gaps and ties is &#8220;weak&#8221; because it returns the percentile of all values
at or below the provided value. For an explanation of alternative methods, refer to the <tt class="docutils literal"><span class="pre">percentile</span></tt> function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">decile</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">9</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="elfi">
<tt class="descname">elfi</tt><big>(</big><em>data_list</em><big>)</big><a class="headerlink" href="#elfi" title="Permalink to this definition">¶</a></dt>
<dd><p>The ELFI is a simplified method for calculating the Ethnolinguistic Fractionalization Index (ELFI). This is one form of what is commonly called a &#8220;diversity index.&#8221; Accepts a list of decimal percentages, which are used to calculate the index. Returns a decimal value as a floating point number.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">elfi</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
<span class="go">0.64500000000000002</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="mean">
<tt class="descname">mean</tt><big>(</big><em>data_list</em><big>)</big><a class="headerlink" href="#mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a sample of values and returns their mean. The mean is the sum of all values in the sample divided by the number of members. It is also known as the average. Since the value is strongly influenced by outliers, median is generally a better indicator of central tendency.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">99</span><span class="p">])</span>
<span class="go">50.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="mean_center">
<tt class="descname">mean_center</tt><big>(</big><em>obj_list</em>, <em>point_attribute_name='point'</em><big>)</big><a class="headerlink" href="#mean_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a geoqueryset, list of objects or list of dictionaries, expected to contain <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/contrib/gis/geos/#point">GeoDjango Point</a> objects as one of their attributes. Returns a Point object with the mean center of the provided points. The mean center is the average x and y of all those points. By default, the function expects the Point field on your model to be called &#8216;point&#8217;. If the point field is called something else, change the kwarg &#8216;point_attribute_name&#8217; to whatever your field might be called.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">mean_center</span><span class="p">(</span><span class="n">qs</span><span class="p">)</span>
<span class="go">&lt;Point object at 0x77a1694&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="median">
<tt class="descname">median</tt><big>(</big><em>data_list</em><big>)</big><a class="headerlink" href="#median" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a list of numbers and returns the median value. The median is the number in the middle of a sequence, with 50 percent of the values above, and 50 percent below. In cases where the sequence contains an even number of values &#8211; and therefore no exact middle &#8211; the two values nearest the middle are averaged and the mean returned.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">median</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="go">&gt;&gt; calculate.median((1,4,3,2))</span>
<span class="go">2.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="mode">
<tt class="descname">mode</tt><big>(</big><em>data_list</em><big>)</big><a class="headerlink" href="#mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a sample of numbers and returns the mode value. The mode is the most common value in a data set. If there is a tie for the highest count, no value is returned.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">mode</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">mode</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nudge_points">
<tt class="descname">nudge_points</tt><big>(</big><em>geoqueryset</em>, <em>point_attribute_name='point'</em>, <em>radius=0.0001</em><big>)</big><a class="headerlink" href="#nudge_points" title="Permalink to this definition">¶</a></dt>
<dd><p>A utility that accepts a GeoDjango QuerySet and nudges slightly apart any identical points. Nothing is returned. By default, the distance of the move is 0.0001 decimal degrees. I&#8217;m not sure if this will go wrong if your data is in a different unit of measurement. This can be useful for running certain geospatial statistics, or even for presentation issues, like spacing out markers on a Google Map for instance.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">nudge_points</span><span class="p">(</span><span class="n">qs</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ordinal_rank">
<tt class="descname">ordinal_rank</tt><big>(</big><em>sequence</em>, <em>item</em>, <em>order_by=None</em>, <em>direction='desc'</em><big>)</big><a class="headerlink" href="#ordinal_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a list and an object. Returns the object&#8217;s ordinal rank as an integer. Does not negiotiate ties.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qs</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">&quot;-career_home_runs&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">barry</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">first_name__iexact</span><span class="o">=</span><span class="s">&#39;Barry&#39;</span><span class="p">,</span> <span class="n">last_name__iexact</span><span class="o">=</span><span class="s">&#39;Bonds&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">ordinal_rank</span><span class="p">(</span><span class="n">qs</span><span class="p">,</span> <span class="n">barry</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pearson">
<tt class="descname">pearson</tt><big>(</big><em>list_one</em>, <em>list_two</em><big>)</big><a class="headerlink" href="#pearson" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts paired lists and returns a number between -1 and 1, known as <a class="reference external" href="http://en.wikipedia.org/wiki/Pearson_product-moment_correlation_coefficient">Pearson&#8217;s r</a>, that indicates of how closely correlated the two datasets are. A score of close to one indicates a high positive correlation. That means that X tends to be big when Y is big. A score close to negative one indicates a high negative correlation. That means X tends to be small when Y is big. A score close to zero indicates little correlation between the two datasets.</p>
<p>A warning, though, correlation does not equal causation. Just because the two datasets are closely related doesn&#8217;t not mean that one causes the other to be the way it is.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">pearson</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">-0.8461538461538467</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="per_capita">
<tt class="descname">per_capita</tt><big>(</big><em>value</em>, <em>population</em>, <em>per=10000</em>, <em>fail_silently=True</em><big>)</big><a class="headerlink" href="#per_capita" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts two numbers, a value and population total, and returns the per capita rate. By default, the result is returned as a per 10,000 person figure. If you divide into zero &#8211; an illegal operation &#8211; a null value is returned by default. If you prefer for an error to be raised, set the kwarg &#8216;fail_silently&#8217; to False.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">per_capita</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
<span class="go">1.2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="per_sqmi">
<tt class="descname">per_sqmi</tt><big>(</big><em>value</em>, <em>square_miles</em>, <em>fail_silently=True</em><big>)</big><a class="headerlink" href="#per_sqmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts two numbers, a value and an area, and returns the per square mile rate. Not much more going on here than a simple bit of division. If you divide into zero &#8211; an illegal operation &#8211; a null value is returned by default. If you prefer for an error to be raised, set the kwarg &#8216;fail_silently&#8217; to False.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">per_sqmi</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">2.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="percentage">
<tt class="descname">percentage</tt><big>(</big><em>value</em>, <em>total</em>, <em>multiply=True</em>, <em>fail_silently=True</em><big>)</big><a class="headerlink" href="#percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts two integers, a value and a total. The value is divided into the total and then multiplied by 100, returning its percentage as a float. If you don&#8217;t want the number multiplied by 100, set the &#8216;multiply&#8217; kwarg to False. If you divide into zero &#8211; an illegal operation &#8211; a null value is returned by default. If you prefer for an error to be raised, set the kwarg &#8216;fail_silently&#8217; to False.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">percentage</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">20.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">percentage</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">multiply</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">0.20000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">percentage</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="percentage_change">
<tt class="descname">percentage_change</tt><big>(</big><em>old_value</em>, <em>new_value</em>, <em>multiply=True</em>, <em>fail_silently=True</em><big>)</big><a class="headerlink" href="#percentage_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts two integers, an old and a new number, and then measures the percent change between them. The change between the two numbers is determined and then divided into the original figure. By default, it is then multiplied by 100, and returning as a float. If you don&#8217;t want the number multiplied by 100, set the &#8216;multiply&#8217; kwarg to False. If you divide into zero &#8211; an illegal operation &#8211; a null value is returned by default. If you prefer for an error to be raised, set the kwarg &#8216;fail_silently&#8217; to False.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calculate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate</span><span class="o">.</span><span class="n">percentage_change</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">400.0</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Features</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#getting-started">Getting started</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    <div style="height:20px; clear:both;"></div>
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        <div class="smalllogo"><a href="http://www.latimes.com"><img src="_static/logo.png" alt="latimes.com"></a></div>
        <div class="credits">
            &copy; Copyright 2011, Ben Welsh.
          Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
        </div>     
    </div>
  </body>
</html>